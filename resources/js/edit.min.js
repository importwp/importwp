!function(o,s,e){s.iwp=s.iwp||{isProcessed:"yes"===e.processed,init:function(){if(console.log("iwp.init"),console.log("iwp.isProcessing",this.isProcessed),!1===this.isProcessed){var e=this;o("#processing").show(),o.ajax({url:ajax_object.ajax_url,data:{action:"iwp_process",id:ajax_object.id},dataType:"json",type:"POST",beforeSend:function(){o("#poststuff").fadeOut()},complete:function(){},success:function(s){if(!1===s.success)return iwp.onError("An Error has occurred when processing your file, "+s.data),o("#processing .preview-loading").hide(),o("#poststuff").fadeIn(),void o("#processing").hide();e.isProcessed=!0,o("#processing p").text("File Processed Successfully."),o("#processing .preview-loading").hide(),o("#poststuff").fadeIn(),console.log("SUCCESS",s),e.onProcessComplete.run(e),setTimeout(function(){o("#processing").slideUp()},2e3)},error:function(s){o("#processing").hide(),iwp.onError("An Error has occurred when processing your file, "+JSON.parse(s.responseText).data.error.message)}})}else this.onProcessComplete.run(this)},ready:function(){console.log("iwp.ready"),console.log("iwp.isProcessing",this.isProcessed)},onError:function(s){o("#ajaxResponse").html('<div class="error_msg warn error below-h2"><p>'+s+"</p></div>")},onProcessComplete:{callbacks:[],add:function(s){this.callbacks.push(s)},run:function(){for(var s=0;s<this.callbacks.length;s++)this.callbacks[s].call(this)}}},o(s).load(function(){s.iwp.init()})}(jQuery,window,iwp_settings);